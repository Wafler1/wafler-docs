{"version":3,"file":"loader.js","names":[],"sources":["../../src/node/loader.ts"],"sourcesContent":["import { _Defaults, createCore } from '@/core';\nimport { createMdxLoader } from '@/loaders/mdx';\nimport { toNode } from '@/loaders/adapter';\nimport { createStandaloneConfigLoader } from '@/loaders/config';\nimport type { LoadHook } from 'node:module';\nimport { createMetaLoader } from '@/loaders/meta';\n\nconst core = createCore({\n  environment: 'node',\n  configPath: _Defaults.configPath,\n  outDir: _Defaults.outDir,\n});\n\nconst configLoader = createStandaloneConfigLoader({\n  core,\n  buildConfig: true,\n  mode: 'production',\n});\n\nconst mdxLoader = toNode(createMdxLoader(configLoader));\nconst metaLoader = toNode(createMetaLoader(configLoader));\n\nexport const load: LoadHook = (url, context, nextLoad) => {\n  return mdxLoader(url, context, (v, ctx) => metaLoader(v, { ...context, ...ctx }, nextLoad));\n};\n"],"mappings":";;;;;;;;AAaA,MAAM,eAAe,6BAA6B;CAChD,MAPW,WAAW;EACtB,aAAa;EACb,YAAY,UAAU;EACtB,QAAQ,UAAU;EACnB,CAAC;CAIA,aAAa;CACb,MAAM;CACP,CAAC;AAEF,MAAM,YAAY,OAAO,gBAAgB,aAAa,CAAC;AACvD,MAAM,aAAa,OAAO,iBAAiB,aAAa,CAAC;AAEzD,MAAa,QAAkB,KAAK,SAAS,aAAa;AACxD,QAAO,UAAU,KAAK,UAAU,GAAG,QAAQ,WAAW,GAAG;EAAE,GAAG;EAAS,GAAG;EAAK,EAAE,SAAS,CAAC"}