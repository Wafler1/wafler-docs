import { Options } from "mdast-util-to-markdown";
import { PluggableList, Processor, Transformer } from "unified";
import { Nodes, Root } from "mdast";
import { MdxJsxAttribute, MdxJsxExpressionAttribute, MdxJsxFlowElement, MdxJsxTextElement } from "mdast-util-mdx";

//#region src/mdx-plugins/remark-structure.d.ts
interface Heading$1 {
  id: string;
  content: string;
}
interface Content {
  heading: string | undefined;
  content: string;
}
interface StructuredData {
  headings: Heading$1[];
  /**
   * Refer to paragraphs, a heading may contain multiple contents as well
   */
  contents: Content[];
}
interface StringifyOptions {
  /**
   * Determine whether the element itself should be stringified in content block, only stringify its attributes & children if `false`.
   *
   * Always return `false` by default.
   */
  filterMdxElements?: (node: MdxJsxFlowElement | MdxJsxTextElement) => boolean;
  filterMdxAttributes?: (node: MdxJsxFlowElement | MdxJsxTextElement, attribute: MdxJsxAttribute | MdxJsxExpressionAttribute) => boolean;
}
interface StructureOptions extends Omit<StringifyOptions, 'filterMdxAttributes'> {
  /**
   * MDAST node types to be scanned as a content block.
   *
   * If a node's type represents in this array, it will be converted into a single content block.
   *
   * @defaultValue ['heading', 'paragraph', 'blockquote', 'tableCell', 'mdxJsxFlowElement']
   */
  types?: string[] | ((node: Nodes) => boolean);
  /**
   * stringify a given node & its children, you can use something like `mdast-util-to-markdown`.
   */
  stringify?: (this: Processor, node: Nodes) => string;
  /**
   * By default, it will not index MDX attributes. You can define a list of MDX attributes to index, either:
   *
   * - an array of attribute names.
   * - a function that determines if attribute should be indexed.
   */
  allowedMdxAttributes?: string[] | ((node: MdxJsxFlowElement | MdxJsxTextElement, attribute: MdxJsxAttribute | MdxJsxExpressionAttribute) => boolean);
  /**
   * export as `structuredData` (if true) or specified variable name.
   */
  exportAs?: string | boolean;
}
declare module 'mdast' {
  interface Data {
    /**
     * [Fumadocs] Stringified form of node, `remarkStructure` uses it to generate search index.
     */
    _string?: string[];
  }
}
declare module 'vfile' {
  interface DataMap {
    /**
     * [Fumadocs] injected by `remarkStructure`
     */
    structuredData: StructuredData;
  }
}
declare const remarkStructureDefaultOptions: {
  types: string[];
  exportAs: false;
};
/**
 * Extract content into structured data.
 *
 * By default, the output is stored into VFile (`vfile.data.structuredData`), you can specify `exportAs` to export it.
 */
declare function remarkStructure(this: Processor, {
  types,
  stringify,
  allowedMdxAttributes,
  exportAs,
  ...stringifyOptions
}?: StructureOptions): Transformer<Root, Root>;
/**
 * Extract data from markdown/mdx content
 */
declare function structure(content: string, remarkPlugins?: PluggableList, options?: StructureOptions): StructuredData;
declare function defaultStringify(config?: Options & StringifyOptions): (this: Processor, node: Nodes) => string;
//#endregion
export { StructureOptions, StructuredData, defaultStringify, remarkStructure, remarkStructureDefaultOptions, structure };