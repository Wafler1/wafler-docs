import "../definitions-Cw2aM1Af.js";
import "../utils-5HX-8dF3.js";
import { SortedResult } from "./index.js";
import "../create-i18n-DxSvCSv-.js";
import "../path-CDjb5iUO.js";
import { SearchAPI } from "./server.js";
import Mixedbread from "@mixedbread/sdk";
import { StoreSearchResponse } from "@mixedbread/sdk/resources/stores";

//#region src/search/mixedbread.d.ts
interface SearchMetadata {
  title?: string;
  description?: string;
  url?: string;
  tag?: string;
}
type StoreSearchResult = StoreSearchResponse['data'][number] & {
  generated_metadata: SearchMetadata;
};
interface MixedbreadSearchOptions {
  /**
   * The Mixedbread SDK client instance
   */
  client: Mixedbread;
  /**
   * The identifier of the store to search in
   */
  storeIdentifier: string;
  /**
   * Maximum number of results to return
   *
   * @defaultValue 10
   */
  topK?: number;
  /**
   * Re-rank search results for improved relevance
   *
   * @defaultValue true
   */
  rerank?: boolean;
  /**
   * Rewrite the query for better search results
   */
  rewriteQuery?: boolean;
  /**
   * Minimum score threshold for results
   */
  scoreThreshold?: number;
  /**
   * Custom transform function for search results
   */
  transform?: (results: StoreSearchResult[], query: string) => SortedResult[];
}
declare function createMixedbreadSearchAPI(options: MixedbreadSearchOptions): SearchAPI;
//#endregion
export { MixedbreadSearchOptions, SearchMetadata, createMixedbreadSearchAPI };