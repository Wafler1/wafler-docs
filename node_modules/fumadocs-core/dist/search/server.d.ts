import "../definitions-Cw2aM1Af.js";
import { StructuredData } from "../mdx-plugins/remark-structure.js";
import "../utils-5HX-8dF3.js";
import { HighlightedText, ReactSortedResult, SortedResult, createContentHighlighter } from "./index.js";
import { a as advancedSchema, i as SimpleDocument, n as createFromSource, o as simpleSchema, r as AdvancedDocument, t as createI18nSearchAPI } from "../create-i18n-DxSvCSv-.js";
import "../path-CDjb5iUO.js";
import { Orama, RawData, SearchParams, create } from "@orama/orama";

//#region src/search/server.d.ts
type SearchType = 'simple' | 'advanced';
type ExportedData = (RawData & {
  type: SearchType;
}) | {
  type: 'i18n';
  data: Record<string, RawData & {
    type: SearchType;
  }>;
};
interface SearchServer {
  search: (query: string, options?: {
    locale?: string;
    tag?: string | string[];
    mode?: 'vector' | 'full';
  }) => Promise<SortedResult[]>;
  /**
   * Export the database
   *
   * You can reference the exported database to implement client-side search
   */
  export: () => Promise<ExportedData>;
}
interface SearchAPI extends SearchServer {
  GET: (request: Request) => Promise<Response>;
  /**
   * `GET` route handler that exports search indexes for static search.
   */
  staticGET: () => Promise<Response>;
}
/**
 * Resolve indexes dynamically
 */
type Dynamic<T> = () => T[] | Promise<T[]>;
type OramaInput = Parameters<typeof create>[0];
type SharedOptions = Pick<OramaInput, 'sort' | 'components' | 'plugins'> & {
  language?: string;
  tokenizer?: Required<OramaInput>['components']['tokenizer'];
};
interface SimpleOptions extends SharedOptions {
  indexes: Index[] | Dynamic<Index>;
  /**
   * Customise search options on server
   */
  search?: Partial<SearchParams<Orama<typeof simpleSchema>, SimpleDocument>>;
}
interface AdvancedOptions extends SharedOptions {
  indexes: AdvancedIndex[] | Dynamic<AdvancedIndex>;
  /**
   * Customise search options on server
   */
  search?: Partial<SearchParams<Orama<typeof advancedSchema>, AdvancedDocument>>;
}
declare function createSearchAPI<T extends SearchType>(type: T, options: T extends 'simple' ? SimpleOptions : AdvancedOptions): SearchAPI;
interface Index {
  title: string;
  description?: string;
  breadcrumbs?: string[];
  content: string;
  url: string;
  keywords?: string;
}
declare function initSimpleSearch(options: SimpleOptions): SearchServer;
interface AdvancedIndex {
  id: string;
  title: string;
  description?: string;
  breadcrumbs?: string[];
  /**
   * Required if tag filter is enabled
   */
  tag?: string | string[];
  /**
   * preprocess mdx content with `structure`
   */
  structuredData: StructuredData;
  url: string;
}
declare function initAdvancedSearch(options: AdvancedOptions): SearchServer;
//#endregion
export { AdvancedIndex, AdvancedOptions, Dynamic, ExportedData, HighlightedText, Index, ReactSortedResult, SearchAPI, SearchServer, SimpleOptions, SortedResult, createContentHighlighter, createFromSource, createI18nSearchAPI, createSearchAPI, initAdvancedSearch, initSimpleSearch };