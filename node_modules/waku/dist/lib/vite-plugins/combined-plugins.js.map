{"version":3,"sources":["../../../src/lib/vite-plugins/combined-plugins.ts"],"sourcesContent":["import rsc from '@vitejs/plugin-rsc';\nimport type { PluginOption } from 'vite';\nimport type { Config } from '../../config.js';\nimport { allowServerPlugin } from './allow-server.js';\nimport { buildMetadataPlugin } from './build-metadata.js';\nimport { cloudflarePlugin } from './cloudflare.js';\nimport { defaultAdapterPlugin } from './default-adapter.js';\nimport { extraPlugins } from './extra-plugins.js';\nimport { fallbackHtmlPlugin } from './fallback-html.js';\nimport { fsRouterTypegenPlugin } from './fs-router-typegen.js';\nimport { mainPlugin } from './main.js';\nimport { notFoundPlugin } from './not-found.js';\nimport { patchRsdwPlugin } from './patch-rsdw.js';\nimport { privateDirPlugin } from './private-dir.js';\nimport { userEntriesPlugin } from './user-entries.js';\nimport { virtualConfigPlugin } from './virtual-config.js';\n\nexport function combinedPlugins(config: Required<Config>): PluginOption {\n  return [\n    extraPlugins(config),\n    allowServerPlugin(), // apply `allowServer` DCE before \"use client\" transform\n    cloudflarePlugin(),\n    rsc({\n      serverHandler: false,\n      keepUseCientProxy: true,\n      useBuildAppHook: true,\n      clientChunks: (meta) => meta.serverChunk,\n    }),\n    mainPlugin(config),\n    userEntriesPlugin(config),\n    virtualConfigPlugin(config),\n    defaultAdapterPlugin(config),\n    notFoundPlugin(),\n    patchRsdwPlugin(),\n    buildMetadataPlugin(config),\n    privateDirPlugin(config),\n    fallbackHtmlPlugin(),\n    fsRouterTypegenPlugin(config),\n  ];\n}\n"],"names":["rsc","allowServerPlugin","buildMetadataPlugin","cloudflarePlugin","defaultAdapterPlugin","extraPlugins","fallbackHtmlPlugin","fsRouterTypegenPlugin","mainPlugin","notFoundPlugin","patchRsdwPlugin","privateDirPlugin","userEntriesPlugin","virtualConfigPlugin","combinedPlugins","config","serverHandler","keepUseCientProxy","useBuildAppHook","clientChunks","meta","serverChunk"],"mappings":"AAAA,OAAOA,SAAS,qBAAqB;AAGrC,SAASC,iBAAiB,QAAQ,oBAAoB;AACtD,SAASC,mBAAmB,QAAQ,sBAAsB;AAC1D,SAASC,gBAAgB,QAAQ,kBAAkB;AACnD,SAASC,oBAAoB,QAAQ,uBAAuB;AAC5D,SAASC,YAAY,QAAQ,qBAAqB;AAClD,SAASC,kBAAkB,QAAQ,qBAAqB;AACxD,SAASC,qBAAqB,QAAQ,yBAAyB;AAC/D,SAASC,UAAU,QAAQ,YAAY;AACvC,SAASC,cAAc,QAAQ,iBAAiB;AAChD,SAASC,eAAe,QAAQ,kBAAkB;AAClD,SAASC,gBAAgB,QAAQ,mBAAmB;AACpD,SAASC,iBAAiB,QAAQ,oBAAoB;AACtD,SAASC,mBAAmB,QAAQ,sBAAsB;AAE1D,OAAO,SAASC,gBAAgBC,MAAwB;IACtD,OAAO;QACLV,aAAaU;QACbd;QACAE;QACAH,IAAI;YACFgB,eAAe;YACfC,mBAAmB;YACnBC,iBAAiB;YACjBC,cAAc,CAACC,OAASA,KAAKC,WAAW;QAC1C;QACAb,WAAWO;QACXH,kBAAkBG;QAClBF,oBAAoBE;QACpBX,qBAAqBW;QACrBN;QACAC;QACAR,oBAAoBa;QACpBJ,iBAAiBI;QACjBT;QACAC,sBAAsBQ;KACvB;AACH"}